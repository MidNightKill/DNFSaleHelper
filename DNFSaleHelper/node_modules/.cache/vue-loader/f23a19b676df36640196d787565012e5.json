{"remainingRequest":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\src\\components\\login.vue","mtime":1582704294959},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAgIC8qKgogICAgICog5YWz6Zet55m75b2V55WM6Z2iCiAgICAgKiBAYXV0aG9yIG1pZAogICAgICogQGRhdGUgMjAyMOW5tDLmnIgyNuaXpTAzOjUzOjA1CiAgICAgKiAKICAgICAqLwogICAgY2FuY2VsOiBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuJGVtaXQoImNsb3NlbG9naW4iKTsKICAgIH0sCiAgICAgIC8qKgogICAgICog6Kej5p6Q5pyN5Yqh5Zmo6L+U5Zue55qEQ09ERQogICAgICogQGF1dGhvciBtaWQKICAgICAqIEBkYXRlIDIwMjDlubQy5pyIMjbml6UwMzo1MzowNQogICAgICogCiAgICAgKi8KICAgIHBhcnNlU2VydmVyTXNnKG1zZzEpIHsKICAgICAgc3dpdGNoIChtc2cxKSB7CiAgICAgICAgY2FzZSAiQ09ERTEwMDAiOgogICAgICAgICAgcmV0dXJuIHsgbXNnOiAi55m75b2V5oiQ5YqfIiwgZmxhZzogdHJ1ZSB9OwogICAgICAgIGNhc2UgIkNPREUxMDAyIjoKICAgICAgICAgIHJldHVybiB7IG1zZzogIuaVsOaNruaPkOS6pOaIkOWKnyIsIGZsYWc6IHRydWUgfTsKICAgICAgICBjYXNlICJDT0RFMjAwMSI6CiAgICAgICAgICByZXR1cm4geyBtc2c6ICLlsJrmnKrnmbvlvZUiLCBmbGFnOiBmYWxzZSB9OwogICAgICAgIGNhc2UgIkNPREUyMDAyIjoKICAgICAgICAgIHJldHVybiB7IG1zZzogIui0puWPt+aIluWvhueggemUmeivryIsIGZsYWc6IGZhbHNlIH07CiAgICAgICAgY2FzZSAiQ09ERTIwMDMiOgogICAgICAgICAgcmV0dXJuIHsgbXNnOiAi5pWw5o2u5o+Q5Lqk5aSx6LSlIiwgZmxhZzogZmFsc2UgfTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbXNnOiAi5pyq55+l6L+U5Zue5YC8LOivt+S4jueuoeeQhuWRmOiBlOezuyzplJnor6/lgLw6IiArIG1zZzEsCiAgICAgICAgICAgIGZsYWc6IGZhbHNlCiAgICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgICAvKioKICAgICAqIOaPkOS6pOeZu+W9leivt+axggogICAgICogQGF1dGhvciBtaWQKICAgICAqIEBkYXRlIDIwMjDlubQy5pyIMjbml6UwMzo1MzowNQogICAgICogCiAgICAgKi8KICAgIGxvZ2luOiBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQKICAgICAgICAuYXhpb3MoewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IgogICAgICAgICAgfSwKICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo4MDkwL2FwaS9kbmZsb2dpbiIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGF0LnVzZXJuYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhhdC5wYXNzd29yZCwKICAgICAgICAgICAgZmxhZzogImNjYyIsCiAgICAgICAgICAgIHNmc2RmOiAic3NzIgogICAgICAgICAgfSwKICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgIH0pCiAgICAgICAgLnRoZW4oUmVzcG9uc2UgPT4gewogICAgICAgICBsZXQgcmVzdWx0ID0gdGhhdC5wYXJzZVNlcnZlck1zZyhSZXNwb25zZS5kYXRhKTsKICAgICAgICAgIGlmIChyZXN1bHQuZmxhZykgewogICAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubXNnLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhhdC4kZW1pdCgiY2xvc2Vsb2dpbiIpOwogICAgICAgICAgICB0aGF0LiRlbWl0KCJsb2dpbnN1Y2Nlc3MiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tc2csCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"mainstyle\">\n    <el-row :gutter=\"20\">\n      <el-col :offset=\"7\" :span=\"5\">\n        <h1>登</h1>\n      </el-col>\n      <el-col :span=\"3\">\n        <h1>录</h1>\n      </el-col>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"13\" :offset=\"5\">\n        <el-input placeholder=\"账号\" v-model=\"username\">\n          <template slot=\"prepend\">账号</template>\n        </el-input>\n      </el-col>\n    </el-row>\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :span=\"13\" :offset=\"5\">\n        <el-input placeholder=\"密码\" v-model=\"password\" show-password>\n          <template slot=\"prepend\">密码</template>\n        </el-input>\n      </el-col>\n    </el-row>\n    <br />\n    <br />\n    <br />\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :span=\"7\" :offset=\"5\">\n        <el-button @click=\"login()\" type=\"success\" round>登录</el-button>\n      </el-col>\n      <el-col :span=\"5\">\n        <el-button @click=\"cancel()\" type=\"danger\" round>取消</el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data: function() {\n    return {\n      username: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n      /**\n     * 关闭登录界面\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    cancel: function() {\n      const that = this;\n      that.$emit(\"closelogin\");\n    },\n      /**\n     * 解析服务器返回的CODE\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    parseServerMsg(msg1) {\n      switch (msg1) {\n        case \"CODE1000\":\n          return { msg: \"登录成功\", flag: true };\n        case \"CODE1002\":\n          return { msg: \"数据提交成功\", flag: true };\n        case \"CODE2001\":\n          return { msg: \"尚未登录\", flag: false };\n        case \"CODE2002\":\n          return { msg: \"账号或密码错误\", flag: false };\n        case \"CODE2003\":\n          return { msg: \"数据提交失败\", flag: false };\n        default:\n          return {\n            msg: \"未知返回值,请与管理员联系,错误值:\" + msg1,\n            flag: false\n          };\n      }\n    },\n      /**\n     * 提交登录请求\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    login: function() {\n      const that = this;\n      that\n        .axios({\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n          },\n          method: \"post\",\n          url: \"http://127.0.0.1:8090/api/dnflogin\",\n          data: {\n            username: that.username,\n            password: that.password,\n            flag: \"ccc\",\n            sfsdf: \"sss\"\n          },\n          withCredentials: true\n        })\n        .then(Response => {\n         let result = that.parseServerMsg(Response.data);\n          if (result.flag) {\n            that.$message({\n              message: result.msg,\n              type: \"success\"\n            });\n            that.$emit(\"closelogin\");\n            that.$emit(\"loginsuccess\");\n          } else {\n            that.$message({\n              message: result.msg,\n              type: \"error\"\n            });\n          }\n        })\n        .catch(error => {\n          that.$message({\n            message: error,\n            type: \"error\"\n          });\n        });\n    }\n  }\n};\n</script>\n<style scoped>\n.mainstyle {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 800px;\n  height: 400px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n}\n</style>"]}]}