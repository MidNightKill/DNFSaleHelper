{"remainingRequest":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\src\\components\\login.vue","mtime":1582705516668},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\前端\\DNFSaleHelper\\DNFSaleHelper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Q29uZmlnfSBmcm9tICcuL0NvbmZpZy5qcycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgICAgLyoqCiAgICAgKiDlhbPpl63nmbvlvZXnlYzpnaIKICAgICAqIEBhdXRob3IgbWlkCiAgICAgKiBAZGF0ZSAyMDIw5bm0MuaciDI25pelMDM6NTM6MDUKICAgICAqIAogICAgICovCiAgICBjYW5jZWw6IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgdGhhdC4kZW1pdCgiY2xvc2Vsb2dpbiIpOwogICAgfSwKICAgICAgLyoqCiAgICAgKiDop6PmnpDmnI3liqHlmajov5Tlm57nmoRDT0RFCiAgICAgKiBAYXV0aG9yIG1pZAogICAgICogQGRhdGUgMjAyMOW5tDLmnIgyNuaXpTAzOjUzOjA1CiAgICAgKiAKICAgICAqLwogICAgcGFyc2VTZXJ2ZXJNc2cobXNnMSkgewogICAgICBzd2l0Y2ggKG1zZzEpIHsKICAgICAgICBjYXNlICJDT0RFMTAwMCI6CiAgICAgICAgICByZXR1cm4geyBtc2c6ICLnmbvlvZXmiJDlip8iLCBmbGFnOiB0cnVlIH07CiAgICAgICAgY2FzZSAiQ09ERTEwMDIiOgogICAgICAgICAgcmV0dXJuIHsgbXNnOiAi5pWw5o2u5o+Q5Lqk5oiQ5YqfIiwgZmxhZzogdHJ1ZSB9OwogICAgICAgIGNhc2UgIkNPREUyMDAxIjoKICAgICAgICAgIHJldHVybiB7IG1zZzogIuWwmuacqueZu+W9lSIsIGZsYWc6IGZhbHNlIH07CiAgICAgICAgY2FzZSAiQ09ERTIwMDIiOgogICAgICAgICAgcmV0dXJuIHsgbXNnOiAi6LSm5Y+35oiW5a+G56CB6ZSZ6K+vIiwgZmxhZzogZmFsc2UgfTsKICAgICAgICBjYXNlICJDT0RFMjAwMyI6CiAgICAgICAgICByZXR1cm4geyBtc2c6ICLmlbDmja7mj5DkuqTlpLHotKUiLCBmbGFnOiBmYWxzZSB9OwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBtc2c6ICLmnKrnn6Xov5Tlm57lgLws6K+35LiO566h55CG5ZGY6IGU57O7LOmUmeivr+WAvDoiICsgbXNnMSwKICAgICAgICAgICAgZmxhZzogZmFsc2UKICAgICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICAgIC8qKgogICAgICog5o+Q5Lqk55m75b2V6K+35rGCCiAgICAgKiBAYXV0aG9yIG1pZAogICAgICogQGRhdGUgMjAyMOW5tDLmnIgyNuaXpTAzOjUzOjA1CiAgICAgKiAKICAgICAqLwogICAgbG9naW46IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgdGhhdAogICAgICAgIC5heGlvcyh7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiCiAgICAgICAgICB9LAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB1cmw6ICJodHRwOi8vIitDb25maWcuc3RhdGUuQVBJaG9zdCsiOiIrQ29uZmlnLnN0YXRlLkFQSXBvcnQrIi9hcGkvZG5mbG9naW4iLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICB1c2VybmFtZTogdGhhdC51c2VybmFtZSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoYXQucGFzc3dvcmQsCiAgICAgICAgICAgIGZsYWc6ICJjY2MiLAogICAgICAgICAgICBzZnNkZjogInNzcyIKICAgICAgICAgIH0sCiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KQogICAgICAgIC50aGVuKFJlc3BvbnNlID0+IHsKICAgICAgICAgbGV0IHJlc3VsdCA9IHRoYXQucGFyc2VTZXJ2ZXJNc2coUmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBpZiAocmVzdWx0LmZsYWcpIHsKICAgICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1zZywKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoYXQuJGVtaXQoImNsb3NlbG9naW4iKTsKICAgICAgICAgICAgdGhhdC4kZW1pdCgibG9naW5zdWNjZXNzIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubXNnLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"mainstyle\">\n    <el-row :gutter=\"20\">\n      <el-col :offset=\"7\" :span=\"5\">\n        <h1>登</h1>\n      </el-col>\n      <el-col :span=\"3\">\n        <h1>录</h1>\n      </el-col>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"13\" :offset=\"5\">\n        <el-input placeholder=\"账号\" v-model=\"username\">\n          <template slot=\"prepend\">账号</template>\n        </el-input>\n      </el-col>\n    </el-row>\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :span=\"13\" :offset=\"5\">\n        <el-input placeholder=\"密码\" v-model=\"password\" show-password>\n          <template slot=\"prepend\">密码</template>\n        </el-input>\n      </el-col>\n    </el-row>\n    <br />\n    <br />\n    <br />\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :span=\"7\" :offset=\"5\">\n        <el-button @click=\"login()\" type=\"success\" round>登录</el-button>\n      </el-col>\n      <el-col :span=\"5\">\n        <el-button @click=\"cancel()\" type=\"danger\" round>取消</el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {Config} from './Config.js'\nexport default {\n  name: \"login\",\n  data: function() {\n    return {\n      username: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n      /**\n     * 关闭登录界面\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    cancel: function() {\n      const that = this;\n      that.$emit(\"closelogin\");\n    },\n      /**\n     * 解析服务器返回的CODE\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    parseServerMsg(msg1) {\n      switch (msg1) {\n        case \"CODE1000\":\n          return { msg: \"登录成功\", flag: true };\n        case \"CODE1002\":\n          return { msg: \"数据提交成功\", flag: true };\n        case \"CODE2001\":\n          return { msg: \"尚未登录\", flag: false };\n        case \"CODE2002\":\n          return { msg: \"账号或密码错误\", flag: false };\n        case \"CODE2003\":\n          return { msg: \"数据提交失败\", flag: false };\n        default:\n          return {\n            msg: \"未知返回值,请与管理员联系,错误值:\" + msg1,\n            flag: false\n          };\n      }\n    },\n      /**\n     * 提交登录请求\n     * @author mid\n     * @date 2020年2月26日03:53:05\n     * \n     */\n    login: function() {\n      const that = this;\n      that\n        .axios({\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n          },\n          method: \"post\",\n          url: \"http://\"+Config.state.APIhost+\":\"+Config.state.APIport+\"/api/dnflogin\",\n          data: {\n            username: that.username,\n            password: that.password,\n            flag: \"ccc\",\n            sfsdf: \"sss\"\n          },\n          withCredentials: true\n        })\n        .then(Response => {\n         let result = that.parseServerMsg(Response.data);\n          if (result.flag) {\n            that.$message({\n              message: result.msg,\n              type: \"success\"\n            });\n            that.$emit(\"closelogin\");\n            that.$emit(\"loginsuccess\");\n          } else {\n            that.$message({\n              message: result.msg,\n              type: \"error\"\n            });\n          }\n        })\n        .catch(error => {\n          that.$message({\n            message: error,\n            type: \"error\"\n          });\n        });\n    }\n  }\n};\n</script>\n<style scoped>\n.mainstyle {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 800px;\n  height: 400px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n}\n</style>"]}]}